<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~      Copyright (C) 2020  Kestros, Inc.
  ~
  ~     This program is free software: you can redistribute it and/or modify
  ~     it under the terms of the GNU General Public License as published by
  ~     the Free Software Foundation, either version 3 of the License, or
  ~     (at your option) any later version.
  ~
  ~     This program is distributed in the hope that it will be useful,
  ~     but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~     GNU General Public License for more details.
  ~
  ~     You should have received a copy of the GNU General Public License
  ~     along with this program.  If not, see <https://www.gnu.org/licenses/>.
  ~
  -->

<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
  xmlns:kes="http://kestros.io/kes/1.0"
  jcr:primaryType="kes:Dialog"
  sling:resourceType="kestros/cms/dialog"
  selector="create-page"
  submitButtonText="Create">
  <content-area jcr:primaryType="nt:unstructured">
    <tabs
      jcr:primaryType="nt:unstructured"
      sling:resourceType="kestros/cms/general/tabs"
      container="true">
      <general jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="General"
        container="true">
        <title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Title"
          propertyName="jcr:title"
          required="true"
          initialValue=""
          autofocus="true"/>
        <name
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Resource Name"
          propertyName="name"
          required="true"
          initialValue="">
          <validators jcr:primaryType="nt:unstructured">
            <lower-case jcr:primaryType="nt:unstructured"
              sling:resourceType="kestros/cms/validators/regex-validator"
              message="Must be lower case"
              pattern="^[a-z]*$"/>
            <no-spaces jcr:primaryType="nt:unstructured"
              sling:resourceType="kestros/cms/validators/regex-validator"
              message="No spaces allowed"
              pattern="^\\S*$"/>
          </validators>
        </name>
        <description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Description"
          propertyName="jcr:description"
          initialValue=""/>
        <template
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/dialog-fields/general/template-picker"
          label="Template"
          propertyName="template"
          rootPath="/apps"/>
      </general>
      <styles jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="Styles"
        container="true">
        <theme
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/dialog-fields/general/theme-picker"
          label="Theme"
          propertyName="kes:theme"/>
      </styles>
      <advanced jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="Advanced"
        container="true">
        <display-title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Display Title"
          propertyName="displayTitle"/>
        <meta-title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Metadata Title"
          propertyName="metaTitle"/>
        <page-image jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/file-upload"
          label="Page Image"
          propertyName="image"/>
        <display-description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Display Description"
          propertyName="displayDescription"/>
        <meta-description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Metadata Description"
          propertyName="metaDescription"/>
        <font-awesome-icon
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="FontAwesome Icon"
          propertyName="fontAwesomeIcon"
        />
      </advanced>
    </tabs>
  </content-area>


</jcr:root>
