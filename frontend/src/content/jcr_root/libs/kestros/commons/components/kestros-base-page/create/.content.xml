<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
  xmlns:kes="http://kestros.io/kes/1.0"
  jcr:primaryType="kes:Dialog"
  sling:resourceType="kestros/cms/dialog"
  selector="create-page"
  submitButtonText="Create">
  <content-area jcr:primaryType="nt:unstructured">
    <!-- todo is there a better name than create? to signify that this is for offspring instead of creating the particular thing -->
    <!-- TODO  change dialog field directory structure-->
    <tabs
      jcr:primaryType="nt:unstructured"
      sling:resourceType="kestros/cms/general/tabs"
      container="true">
      <general jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="General"
        container="true">
        <title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Title"
          propertyName="jcr:title"
          required="true"
          initialValue=""
          autofocus="true"/>
        <name
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Resource Name"
          propertyName="name"
          required="true"
          initialValue="">
          <validators jcr:primaryType="nt:unstructured">
<!--            <lower-case jcr:primaryType="nt:unstructured"-->
<!--              sling:resourceType="kestros/cms/validators/regex-validator"-->
<!--              message="Must be lower case"-->
<!--              pattern="^[a-z]*$"/>-->
            <no-spaces jcr:primaryType="nt:unstructured"
              sling:resourceType="kestros/cms/validators/regex-validator"
              message="No spaces allowed"
              pattern="^\\S*$"/>
          </validators>
        </name>
        <description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Description"
          propertyName="jcr:description"
          initialValue=""/>
        <!-- TODO base page should live under sitemanagement -->
        <template
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/dialog-fields/general/template-picker"
          label="Template"
          propertyName="template"
          rootPath="/apps"/>
      </general>
      <styles jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="Styles"
        container="true">
        <theme
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/dialog-fields/general/theme-picker"
          label="Theme"
          propertyName="kes:theme"/>
      </styles>
      <advanced jcr:primaryType="nt:unstructured"
        sling:resourceType="kestros/cms/general/container"
        jcr:title="Advanced"
        container="true">
        <display-title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Display Title"
          propertyName="displayTitle"/>
        <meta-title
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="Metadata Title"
          propertyName="metaTitle"/>
        <page-image jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/file-upload"
          label="Page Image"
          propertyName="image"/>
        <display-description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Display Description"
          propertyName="displayDescription"/>
        <meta-description
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textarea"
          label="Metadata Description"
          propertyName="metaDescription"/>
        <!-- TODO this shouldn't live here? -->
        <font-awesome-icon
          jcr:primaryType="nt:unstructured"
          sling:resourceType="kestros/cms/fields/textfield"
          label="FontAwesome Icon"
          propertyName="fontAwesomeIcon"
        />
      </advanced>
    </tabs>
  </content-area>


</jcr:root>
